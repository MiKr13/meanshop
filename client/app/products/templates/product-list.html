<navbar></navbar>

<div class="container">
   <div class="row">

      <h1 class="page-header">Products <small>{{query}}</small></h1>
      <form>
         <p class="input-group">
         <span class="input-group-btn">
            <button type="submit" class="btn btn-primary" ui-sref="newProduct()">Add New</button>
         </span>
         </p>
      </form>

      <div class="col-md-3" ng-include="'components/sidebar/sidebar.html'"></div>

      <div class="col-md-3" data-ng-show="products.length < 1"> 
         No products to show.
         <a ui-sref="newProduct">New Product</a>
      </div>

      <div class="col-md-3" data-ng-repeat="product in products">
         <div class="thumbnail">
            <a ui-sref="viewProduct({id: product._id})">
               <img src="{{product.imageUrl}}" alt="{{product.title}}">
            </a>
            <div class="caption">
               <h3>{{product.title}}</h3>
               <p>{{product.description | limitTo: 100}} ...</p>
               <p>{{product.price | currency }}</p>
               <p>
               <ngcart-addtocart 
                  id="{{product._id}}" 
                  quantity="1" 
                  quantity-max="9" 
                  name="{{product.title}}" 
                  price="{{product.price}}" 
                  template-url="components/ngcart/addtocart.html" 
                  data="product">
                  <span class="fa fa-shopping-cart"> Add to Cart</span>
               </ngcart-addtocart>
               <a ui-sref="viewProduct({id: product._id})" class="btn btn-default" role="button">Details</a>
               </p>
            </div>
         </div>
      </div>

   </div><!-- end .row -->
</div><!-- end .container -->

<footer></footer>
